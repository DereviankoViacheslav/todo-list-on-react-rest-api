(this["webpackJsonptodo-list-on-react-rest-api"]=this["webpackJsonptodo-list-on-react-rest-api"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),c=n.n(s),o=n(2),i=n(3),u=n(5),l=n(4),p=n(6),f=n(9);n(15);var h=function(e){var t=e.id,n=e.done,a=e.text,s=e.onDelete,c=e.onToggleDone,o="list-item".concat(n?" list-item_done":"");return r.a.createElement("li",{className:o},r.a.createElement("input",{type:"checkbox",className:"list-item__checkbox",checked:n,onChange:function(){return c(t)}}),r.a.createElement("span",{className:"list-item__text"},a),r.a.createElement("button",{className:"list-item__delete-btn",onClick:function(){return s(t)}}))};n(16);var k=function(e){var t=e.tasks,n=e.onDelete,a=e.onToggleDone,s=Object(f.a)(t).sort((function(e,t){return e.done-t.done})).map((function(e){return r.a.createElement(h,Object.assign({key:e.id},e,{onDelete:n,onToggleDone:a}))}));return r.a.createElement("ul",{className:"list"},s)},d=(n(17),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={taskText:""},n.handleChange=function(e){n.setState({taskText:e.target.value})},n.handleCreateTask=function(){n.props.onCreate(n.state.taskText),n.setState({taskText:""})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"create-task"},r.a.createElement("input",{className:"create-task__input",value:this.state.taskText,onChange:this.handleChange,type:"text"}),r.a.createElement("button",{onClick:this.handleCreateTask,className:"btn create-task__btn"},"Create"))}}]),t}(r.a.Component)),m=n(1),b=n.n(m),T=function e(){var t=this;Object(o.a)(this,e),this.baseUrl="https://5e300c25576f9d0014d63ac2.mockapi.io/api/v1/tasks",this.restApi=function(e,n,a){var r,s,c;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:r=t.baseUrl,s={},o.t0=e,o.next="DELETE"===o.t0?5:"POST"===o.t0?8:"PUT"===o.t0?10:13;break;case 5:return s={method:"DELETE"},r+="/".concat(a),o.abrupt("break",15);case 8:return s={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)},o.abrupt("break",15);case 10:return s={method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)},r+="/".concat(a),o.abrupt("break",15);case 13:return s=null,o.abrupt("break",15);case 15:return o.next=17,b.a.awrap(fetch(r,s));case 17:if(!(c=o.sent).ok){o.next=22;break}return o.next=21,b.a.awrap(c.json());case 21:return o.abrupt("return",o.sent);case 22:throw new Error("Could not fetch, received ".concat(c.status));case 23:case"end":return o.stop()}}))},this.getResource=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.awrap(t.restApi());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},this.addTask=function(e){var n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={text:e,done:!1},a.next=3,b.a.awrap(t.restApi("POST",n));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},this.deleteTask=function(e){return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(t.restApi("DELETE",null,e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},this.setTaskStatus=function(e){var n,a,r,s,c;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b.a.awrap(t.getResource());case 2:return n=o.sent,a=n.find((function(t){return t.id===e})),r=a.text,s=a.done,c={text:r,done:!s},o.next=7,b.a.awrap(t.restApi("PUT",c,e));case 7:return o.abrupt("return",o.sent);case 8:case"end":return o.stop()}}))}},v=(n(19),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:[]},n.mockApiService=new T,n.fetchTasksList=function(){n.mockApiService.getResource().then((function(e){n.setState({tasks:e})}))},n.onCreate=function(e){n.mockApiService.addTask(e).then((function(){return n.fetchTasksList()}))},n.onDelete=function(e){n.mockApiService.deleteTask(e).then((function(){return n.fetchTasksList()}))},n.onToggleDone=function(e){n.mockApiService.setTaskStatus(e).then((function(){return n.fetchTasksList()}))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchTasksList()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Todo List"),r.a.createElement("main",{className:"todo-list"},r.a.createElement(d,{onCreate:this.onCreate}),r.a.createElement(k,{tasks:this.state.tasks,onDelete:this.onDelete,onToggleDone:this.onToggleDone})))}}]),t}(r.a.Component));n(20);var x=function(){return r.a.createElement(v,null)};c.a.render(r.a.createElement(x,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.85de2859.chunk.js.map